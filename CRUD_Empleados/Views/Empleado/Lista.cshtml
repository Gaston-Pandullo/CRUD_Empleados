@{

}
@model List<CRUD_Empleados.Models.Empleado>;

<div class="row">
	<div class="col-sm-8 offset-sm-2">
		<h2>Lista empleados</h2>
		<a asp-controller="Empleado" asp-action="Nuevo" class="btn btn-success mb-3">Nuevo</a>
		<table class="table table-bordered">
			<thead>
				<tr>
					<th>Id</th>
					<th>Nombre completo</th>
					<th>Correo</th>
					<th>Fecha de contrato</th>
					<th>Activo</th>
					<th>Accion</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model)
				{
					<tr>
						<td>@item.Id</td>
						<td>@item.NombreCompleto</td>
						<td>@item.Correo</td>
						<td>@item.FechaAdmision.ToString("dd/MM/yyyy")</td>
						<td>@(item.Activo ? "SI" : "NO")</td>
						<td>
							<a 
								asp-controller="Empleado" 
								asp-action="Editar"
								asp-route-id="@item.Id"
								class="btn btn-primary">Editar
							</a>
							<a asp-controller="Empleado"
							   asp-action="Eliminar"
							   asp-route-id="@item.Id"
							   onclick="return confirmar()"
							   class="btn btn-danger">
								Eliminar
							</a>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>

@section Scripts{
	<script>
		function confirmar() {
			return confirm("¿Está seguro que desea eliminarlo?")
		}
	</script>
}